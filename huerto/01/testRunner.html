
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Huerto Tests</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <h1>Tests in console</h1>
</body>
<script type="module">
import {test} from '../../puerro/test/test.js';
import Huerto, { ENTER_KEYCODE } from './script.js';

test('renderVegetables', assert => {
  // given
  const $vegetable = document.createElement('input'),
    $vegetables = document.createElement('ul');
  Huerto($vegetable, $vegetables);

  // when
  $vegetable.value = 'tomato';
  $vegetable.dispatchEvent(new KeyboardEvent('keydown', { keyCode: ENTER_KEYCODE }));

  // then
  assert.is($vegetables.innerHTML, '<li>tomato</li>');
  assert.is($vegetable.value, '');
});
</script>
</html>