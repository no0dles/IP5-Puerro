<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>All Tests</title>
  </head>
  <body>
    <h1>All Tests in VanillaJS</h1>

    <script type="module">
      import { test } from '../util/test.js';  // todo dk: this does not work reliably (e.g. FF)

      const testSuite = x => y => z => f => f(x)(y)(z);
      const testSuiteName = t => t(x => y => z => x);
      const sourceLocation = t => t(x => y => z => y);
      const testLocation = t => t(x => y => z => z);

      const testSuites = [
        testSuite('Observable')('../src/observable/observable.js')(
          '../src/observable/observableTest.js'
        ),
      ];

      // dk: this is a nice trick but when using modules, we no longer need this.

      testSuites.forEach(testSuite => {
        document.writeln('<div>' + testSuiteName(testSuite) + '</div>'); // todo dk: since modules are _a_synchronous, you cannot use writeln
        document.writeln(
          '<script src="' + sourceLocation(testSuite) + '"><\/script>'
        );
        document.writeln(
          '<script src="' + testLocation(testSuite) + '"><\/script>'
        );
        document.writeln('<br />');
      });

      document.writeln("Check possible 'compile' errors in the console .");
    </script>
  </body>
</html>
