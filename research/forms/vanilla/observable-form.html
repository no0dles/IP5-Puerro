<!DOCTYPE html>
<head>
    <title>Observable - Form</title>
    <script src="../../../puerro/src/observable/observable.js"></script>
    <style>
        form {
            background-color: lightgray;
            border-radius: 5px;
            padding: 20px;
        }

        input, textarea, select, button {
            width: 100%;
            box-sizing: border-box;
            padding: 12px 20px;
            margin: 8px 0;
            border: none;
            border-radius: 4px;
        }

        button {
            background-color: green;
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <form id="form">
        <label for="name">Name</label>
        <input id='name' name='Vegetable Name' type='text' placeholder="Vegetable Name.." maxlength='10' required>
    
        <label for="desc">Description</label>
        <textarea id='desc' name="Vegetable Description" placeholder="Vegetable Description.." minlength="10" required></textarea>

        <label for="category">Category</label>
        <select id='category' name="Vegetable Category"></select>

        <button>Save</button>
    </form>

    <p>Currently Editing:</p>
    <pre></pre>

</body>

<script>

    const vegetableCategories = ['Bulps', 'Flowers', 'Fruits', 'Fungi', 'Leaves', 'Roots', 'Seeds', 'Steams', 'Tubers'];
    const categoriesElement = document.getElementById('category');
    
    vegetableCategories.forEach(vegetableCategory => {
        const category = document.createElement('option');
        category.textContent = vegetableCategory;
        categoriesElement.add(category);
    });
    
    const result = document.querySelector('pre');

    const form = ObservableForm(document.getElementById('form'));
    form.oninput(e => result.textContent = `<${e.target.tagName} name='${e.target.name}'>: ${e.target.value}`)('input, select');
    form.onclick(e => result.textContent = `The label '${e.target.textContent}' has just been clicked`)('label');
    
</script>
</html>